"use strict";function __commonjs(t,e){return e={exports:{}},t(e,e.exports),e.exports}function loadView(t,e){var n=!1,r=void 0;domRoot.className=domRoot.className.split(" ").filter(function(t){return"removing"!==t&&"adding"!==t}).concat("removing").join(" ").trim();var i=new XMLHttpRequest;i.addEventListener("load",function(){n?(domRoot.innerHTML=this.responseText,toggleFade(),e&&e()):(n=!0,r=this.responseText)}),i.open("GET",t),i.send(),setTimeout(function(){n?(domRoot.innerHTML=r,toggleFade(),e&&e()):n=!0},300)}function toggleFade(){domRoot.className=domRoot.className.split(" ").filter(function(t){return"removing"!==t&&"adding"!==t}).concat("adding").join(" ").trim()}function insertTagsAfter(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=document.createElement("p");n.innerHTML=['<a href="#/posts">All</a>'].concat(e.map(function(t){return'<a href="#/posts/filter/'+t+'">'+t+"</a>"})).join(", "),t.parentNode.insertBefore(n,t.nextSibling)}function insertListAfter(t,e){var n=document.createElement("ul");n.innerHTML=e,t.parentNode.insertBefore(n,t.nextSibling)}function prettyDate(t){return months[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()}function uniq(t,e,n){return n.indexOf(t)===e}function index$3(){loadView("/dist/partials/index.template.html")}function posts(t){loadView("/dist/partials/postlist.template.html",function(){var e;insertListAfter(document.getElementById("latest-posts"),postList.slice(0,5).filter(function(e){return"undefined"==typeof t.params.tag?!0:e.tags.includes(t.params.tag)}).map(function(t){return'<li>\n  <a href="'+t.path+'" class="postlist-post-link">\n    '+t.title+' <span class="post-date">'+prettyDate(new Date(t.date))+"</span>\n  </a>\n</li>"}).join("")),postList.length>5?insertListAfter(document.getElementById("older-posts"),postList.slice(5).map(function(t){return'<li>\n  <a href="'+t.path+'">\n    '+t.title+' <span class="post-date">'+prettyDate(new Date(t.date))+"</span>\n  </a>\n</li>"}).join("")):document.getElementById("older-posts").style.display="none",insertTagsAfter(document.getElementById("tags"),(e=[]).concat.apply(e,babelHelpers.toConsumableArray(postList.map(function(t){return t.tags}))).filter(uniq))})}function notFound(){loadView("/dist/partials/404.template.html")}function post(t){loadView("/dist/partials/posts/"+t.params.year+"/"+t.params.month+"/"+t.params.date+"/"+t.params.title+".template.html")}var babelHelpers={};babelHelpers.toConsumableArray=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};var index$2=__commonjs(function(t){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}}),require$$0$1=index$2&&"object"==typeof index$2&&"default"in index$2?index$2["default"]:index$2,index$1=__commonjs(function(t){function e(t){for(var e,n=[],r=0,i=0,a="";null!=(e=f.exec(t));){var s=e[0],p=e[1],c=e.index;if(a+=t.slice(i,c),i=c+s.length,p)a+=p[1];else{a&&(n.push(a),a="");var u=e[2],l=e[3],h=e[4],d=e[5],m=e[6],g=e[7],v="+"===m||"*"===m,y="?"===m||"*"===m,x=u||"/",w=h||d||(g?".*":"[^"+x+"]+?");n.push({name:l||r++,prefix:u||"",delimiter:x,optional:y,repeat:v,pattern:o(w)})}}return i<t.length&&(a+=t.substr(i)),a&&n.push(a),n}function n(t){return r(e(t))}function r(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^"+t[n].pattern+"$"));return function(n){for(var r="",i=n||{},o=0;o<t.length;o++){var a=t[o];if("string"!=typeof a){var s,p=i[a.name];if(null==p){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to be defined')}if(d(p)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received "'+p+'"');if(0===p.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var c=0;c<p.length;c++){if(s=encodeURIComponent(p[c]),!e[o].test(s))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received "'+s+'"');r+=(0===c?a.prefix:a.delimiter)+s}}else{if(s=encodeURIComponent(p),!e[o].test(s))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+s+'"');r+=a.prefix+s}}else r+=a}return r}}function i(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function o(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function a(t,e){return t.keys=e,t}function s(t){return t.sensitive?"":"i"}function p(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return a(t,e)}function c(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(h(t[i],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",s(n));return a(o,e)}function u(t,n,r){for(var i=e(t),o=l(i,r),s=0;s<i.length;s++)"string"!=typeof i[s]&&n.push(i[s]);return a(o,n)}function l(t,e){e=e||{};for(var n=e.strict,r=e.end!==!1,o="",a=t[t.length-1],p="string"==typeof a&&/\/$/.test(a),c=0;c<t.length;c++){var u=t[c];if("string"==typeof u)o+=i(u);else{var l=i(u.prefix),h=u.pattern;u.repeat&&(h+="(?:"+l+h+")*"),h=u.optional?l?"(?:"+l+"("+h+"))?":"("+h+")?":l+"("+h+")",o+=h}}return n||(o=(p?o.slice(0,-2):o)+"(?:\\/(?=$))?"),o+=r?"$":n&&p?"":"(?=\\/|$)",new RegExp("^"+o,s(e))}function h(t,e,n){return e=e||[],d(e)?n||(n={}):(n=e,e=[]),t instanceof RegExp?p(t,e,n):d(t)?c(t,e,n):u(t,e,n)}var d=require$$0$1;t.exports=h,t.exports.parse=e,t.exports.compile=n,t.exports.tokensToFunction=r,t.exports.tokensToRegExp=l;var f=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g")}),require$$0=index$1&&"object"==typeof index$1&&"default"in index$1?index$1["default"]:index$1,index=__commonjs(function(t){function e(t,n){if("function"==typeof t)return e("*",t);if("function"==typeof n)for(var r=new o(t),i=1;i<arguments.length;++i)e.callbacks.push(r.middleware(arguments[i]));else"string"==typeof t?e["string"==typeof n?"redirect":"show"](t,n):e.start(t)}function n(t){if(!t.handled){var n;n=v?g+d.hash.replace("#!",""):d.pathname+d.search,n!==t.canonicalPath&&(e.stop(),t.handled=!1,d.href=t.canonicalPath)}}function r(t){return"string"!=typeof t?t:m?decodeURIComponent(t.replace(/\+/g," ")):t}function i(t,e){"/"===t[0]&&0!==t.indexOf(g)&&(t=g+(v?"#!":"")+t);var n=t.indexOf("?");if(this.canonicalPath=t,this.path=t.replace(g,"")||"/",v&&(this.path=this.path.replace("#!","")||"/"),this.title=document.title,this.state=e||{},this.state.path=t,this.querystring=~n?r(t.slice(n+1)):"",this.pathname=r(~n?t.slice(0,n):t),this.params={},this.hash="",!v){if(!~this.path.indexOf("#"))return;var i=this.path.split("#");this.path=i[0],this.hash=r(i[1])||"",this.querystring=this.querystring.split("#")[0]}}function o(t,e){e=e||{},this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=c(this.path,this.keys=[],e)}function a(t){if(1===s(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var n=t.path?t.path[0]:t.target;n&&"A"!==n.nodeName;)n=n.parentNode;if(n&&"A"===n.nodeName&&!n.hasAttribute("download")&&"external"!==n.getAttribute("rel")){var r=n.getAttribute("href");if((v||n.pathname!==d.pathname||!n.hash&&"#"!==r)&&!(r&&r.indexOf("mailto:")>-1)&&!n.target&&p(n.href)){var i=n.pathname+n.search+(n.hash||"");"undefined"!=typeof process&&i.match(/^\/[a-zA-Z]:\//)&&(i=i.replace(/^\/[a-zA-Z]:\//,"/"));var o=i;0===i.indexOf(g)&&(i=i.substr(g.length)),v&&(i=i.replace("#!","")),g&&o===i||(t.preventDefault(),e.show(o))}}}}function s(t){return t=t||window.event,null===t.which?t.button:t.which}function p(t){var e=d.protocol+"//"+d.hostname;return d.port&&(e+=":"+d.port),t&&0===t.indexOf(e)}var c=require$$0;t.exports=e;var u,l,h="undefined"!=typeof document&&document.ontouchstart?"touchstart":"click",d="undefined"!=typeof window&&(window.history.location||window.location),f=!0,m=!0,g="",v=!1;e.callbacks=[],e.exits=[],e.current="",e.len=0,e.base=function(t){return 0===arguments.length?g:void(g=t)},e.start=function(t){if(t=t||{},!u&&(u=!0,!1===t.dispatch&&(f=!1),!1===t.decodeURLComponents&&(m=!1),!1!==t.popstate&&window.addEventListener("popstate",y,!1),!1!==t.click&&document.addEventListener(h,a,!1),!0===t.hashbang&&(v=!0),f)){var n=v&&~d.hash.indexOf("#!")?d.hash.substr(2)+d.search:d.pathname+d.search+d.hash;e.replace(n,null,!0,f)}},e.stop=function(){u&&(e.current="",e.len=0,u=!1,document.removeEventListener(h,a,!1),window.removeEventListener("popstate",y,!1))},e.show=function(t,n,r,o){var a=new i(t,n);return e.current=a.path,!1!==r&&e.dispatch(a),!1!==a.handled&&!1!==o&&a.pushState(),a},e.back=function(t,n){e.len>0?(history.back(),e.len--):t?setTimeout(function(){e.show(t,n)}):setTimeout(function(){e.show(g,n)})},e.redirect=function(t,n){"string"==typeof t&&"string"==typeof n&&e(t,function(t){setTimeout(function(){e.replace(n)},0)}),"string"==typeof t&&"undefined"==typeof n&&setTimeout(function(){e.replace(t)},0)},e.replace=function(t,n,r,o){var a=new i(t,n);return e.current=a.path,a.init=r,a.save(),!1!==o&&e.dispatch(a),a},e.dispatch=function(t){function r(){var t=e.exits[s++];return t?void t(o,r):i()}function i(){var r=e.callbacks[a++];return t.path!==e.current?void(t.handled=!1):r?void r(t,i):n(t)}var o=l,a=0,s=0;l=t,o?r():i()},e.exit=function(t,n){if("function"==typeof t)return e.exit("*",t);for(var r=new o(t),i=1;i<arguments.length;++i)e.exits.push(r.middleware(arguments[i]))},e.Context=i,i.prototype.pushState=function(){e.len++,history.pushState(this.state,this.title,v&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},i.prototype.save=function(){history.replaceState(this.state,this.title,v&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},e.Route=o,o.prototype.middleware=function(t){var e=this;return function(n,r){return e.match(n.path,n.params)?t(n,r):void r()}},o.prototype.match=function(t,e){var n=this.keys,i=t.indexOf("?"),o=~i?t.slice(0,i):t,a=this.regexp.exec(decodeURIComponent(o));if(!a)return!1;for(var s=1,p=a.length;p>s;++s){var c=n[s-1],u=r(a[s]);void 0===u&&hasOwnProperty.call(e,c.name)||(e[c.name]=u)}return!0};var y=function(){var t=!1;if("undefined"!=typeof window)return"complete"===document.readyState?t=!0:window.addEventListener("load",function(){setTimeout(function(){t=!0},0)}),function(n){if(t)if(n.state){var r=n.state.path;e.replace(r,n.state)}else e.show(d.pathname+d.hash,void 0,void 0,!1)}}();e.sameOrigin=p}),page=index&&"object"==typeof index&&"default"in index?index["default"]:index,postList=[{title:"Taco Time",date:"2016-07-24T05:00:00.000Z",path:"/#/posts/2016/07/24/Taco_Time",tags:["non-tech"]},{title:"Growing Out of NPM Scripts",date:"2016-05-03T05:00:00.000Z",path:"/#/posts/2016/05/03/Growing_Out_of_NPM_Scripts",tags:["tech"]},{title:"A Break from Modwatch",date:"2016-03-21T05:00:00.000Z",path:"/#/posts/2016/03/21/A_Break_from_Modwatch",tags:["modwatch"]},{title:"Blogging With Style",date:"2016-03-04T06:00:00.000Z",path:"/#/posts/2016/03/04/Blogging_With_Style",tags:["tech"]}],domRoot=document.getElementById("domRoot"),months=["January","February","March","April","May","June","July","August","September","October","November","December"];page.base("/#"),page("/",index$3),page("/posts",posts),page("/posts/filter/:tag",posts),page("/posts/:year/:month/:date/:title",post),page("*",notFound),page(),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js");